{% set base_color = randomColor() %}

{% if base_color|isLight %}
  {% set bgcolor_base = base_color|darken(80)|desaturate(80) %}
{% else %}
  {% set bgcolor_base = base_color|lighten(80)|desaturate(80) %}
{% endif %}

global:
  __name: {{ name }}

i3config:
  bar:
    colors:
      background: '#000000'
      statusline: '#{{ base_color|desaturate|lighten(50)|complementary }}'
      focused_workspace:
        border: '#{{ base_color|lighten }}'
        background: '#{{ base_color }}'
        text: '#ffffff'
      active_workspace:
        border: '#333333'
        background: '#5f676a'
        text: '#ffffff'
      inactive_workspace:
        border: '#333333'
        background: '#222222'
        text: '#888888'
      urgent_workspace:
        border: '#2f343a'
        background: '#900000'
        text: '#ffffff'
      binding_mode:
        border: '#2f343a'
        background: '#900000'
        text: '#ffffff'

  colors:
    client.focused:
      border: '#{{ base_color }}'
      background: '#222222'
      text: '#{{ base_color }}'
      indicator: '#000000'
      child_border: '#222222'
    client.focused_inactive:
      border: '#{{ base_color|desaturate(50)|darken }}'
      background: '#222222'
      text: '#{{ base_color|desaturate(75)|darken }}'
      indicator: '#000000'
      child_border: '#222222'
    client.unfocused:
      border: '#333333'
      background: '#222222'
      text: '#666666'
      indicator: '#000000'
      child_border: '#222222'
    client.urgent:
      border:
      background:
      text:
      indicator:
      child_border:
    client.placeholder:
      border:
      background:
      text:
      indicator:
      child_border:
    client.background:
      border: '#000000'
