
{% set base_color = '00FF00' %}

{# hack: get a random light color #}
{% for i in 0..10 %}
  {% set color = randomColor() %}
  {% if color|isLight %}
    {% set base_color = color %}
  {% endif %}
{% endfor %}

{% set bgcolor_base = base_color|darken(70)|desaturate(99) %}
{% set darkgrey = bgcolor_base|lighten(10)|desaturate(100) %}

global:
  __name: {{ name }}

i3config:
  bar:
    colors:
      background: '#{{ bgcolor_base|desaturate(100) }}'
      statusline: '#{{ base_color|desaturate(50)|complementary }}'
      focused_workspace:
        border: '#{{ base_color|lighten }}'
        background: '#{{ base_color }}'
        text: '#{{ base_color|desaturate(50)|complementary|lighten(80) }}'
      active_workspace:
        border: '#{{ bgcolor_base|lighten(20) }}'
        background: '#5f676a'
        text: '#ffffff'
      inactive_workspace:
        border: '#{{ bgcolor_base|lighten(20)|desaturate(100) }}'
        background: '#{{ darkgrey }}'
        text: '#888888'
      urgent_workspace:
        border: '#2f343a'
        background: '#900000'
        text: '#ffffff'
      binding_mode:
        border: '#2f343a'
        background: '#900000'
        text: '#ffffff'

  colors:
    client.focused:
      border: '#{{ base_color }}'
      background: '#{{ darkgrey }}'
      text: '#{{ base_color }}'
      indicator: '#000000'
      child_border: '#{{ darkgrey }}'
    client.focused_inactive:
      border: '#{{ base_color|desaturate(50)|darken }}'
      background: '#{{ darkgrey }}'
      text: '#{{ base_color|desaturate(75)|darken }}'
      indicator: '#000000'
      child_border: '#{{ darkgrey }}'
    client.unfocused:
      border: '#{{ bgcolor_base|lighten(20) }}'
      background: '#{{ darkgrey }}'
      text: '#666666'
      indicator: '#000000'
      child_border: '#{{ darkgrey }}'
    client.urgent:
      border:
      background:
      text:
      indicator:
      child_border:
    client.placeholder:
      border:
      background:
      text:
      indicator:
      child_border:
    client.background:
      border: '#000000'
